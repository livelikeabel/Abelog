---
title: Map, Reduce ì •ë³µí•˜ê¸°
date: 2019-04-08 15:04:88
category: development
---

mapê³¼ reduceëŠ” jsì˜ ë°°ì—´ ë©”ì†Œë“œ ì¤‘ ê°€ì¥ ìœ ìš©í•˜ê³ , ìì£¼ ì“°ëŠ” ë©”ì†Œë“œì´ë‹¤. ì¢€ ë” ì •í™•í•œ ì‚¬ìš©ë²•ì´ ê¶ê¸ˆí•´ì ¸ì„œ, ë”°ë¡œ ê¸°ë¡ì„ í•´ë³´ë ¤ê³  í•œë‹¤.

ê²°ë¡ ë¶€í„° ì´ì•¼ê¸° í•˜ë©´, ë°°ì—´ì— ìˆëŠ” ê³ ì°¨í•¨ìˆ˜ë¥¼ ì“°ëŠ” ì›ë¦¬ëŠ” ê°„ë‹¨í•˜ë‹¤.

**ë°°ì—´ì„ ë£¨í”„ëŒê³  ì‹¶ìœ¼ë©´, `forEach` ë°°ì—´ì˜ ì›ì†Œë¥¼ ë°”ê¾¼ ë°°ì—´ì„ ì–»ê³  ì‹¶ìœ¼ë©´, `map` í•˜ë‚˜ì˜ ê°’ìœ¼ë¡œ ë­‰ì¹˜ê³  ì‹¶ìœ¼ë©´ `reduce`ë¥¼ ì“°ë©´ëœë‹¤.**

## map

> Array.prototype.map

### ê¸°ë³¸ ê°œë…

- ë°°ì—´ì˜ ëª¨ë“  ìš”ì†Œë¥¼ ì´í„°ë ˆì´ì…˜ í•˜ë©° ì¸ìë¡œ ë„˜ê¸´ ì½œë°±í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œ ê²°ê³¼ ê°’ì„ ëª¨ì•„, ìƒˆë¡œìš´ ë°°ì—´ì— ë„£ì–´ ë°˜í™˜í•œë‹¤.

`arr.map(callback(currentValue[, index[, array]])[, thisArg])`

mapì˜ ë§¤ê°œë³€ìˆ˜ë¡œëŠ”, ìƒˆë¡œìš´ ë°°ì—´ ìš”ì†Œë¥¼ ìƒì„±í•˜ëŠ” `callback`í•¨ìˆ˜ì™€, callbackì„ ì‹¤í–‰í•  ë•Œ thisë¡œ ì‚¬ìš©ë˜ëŠ” `thisArg`ê°€ ìˆë‹¤.
callbackí•¨ìˆ˜ëŠ” ì¸ìë¡œ currentValue, index, arrayë¥¼ ê°–ëŠ”ë‹¤.

### íŠ¹ì§•

- `map`ì€ í˜¸ì¶œí•œ ë°°ì—´ì˜ ê°’ì„ ë³€í˜•í•˜ì§€ ì•ŠëŠ”ë‹¤. ë‹¨, `callback` í•¨ìˆ˜ì— ì˜í•´ì„œ ë³€í˜•ë  ìˆ˜ëŠ” ìˆë‹¤.
- `map`ì´ ì²˜ë¦¬í•  ìš”ì†Œì˜ ë²”ìœ„ëŠ” ì²« callbackì„ í˜¸ì¶œí•˜ê¸° ì „ì— ì •í•´ì§„ë‹¤. `map`ì´ ì‹œì‘í•œ ì´í›„ ë°°ì—´ì— ì¶”ê°€ë˜ëŠ” ìš”ì†Œë“¤ì€ callbackì„ í˜¸ì¶œí•˜ì§€ ì•ŠëŠ”ë‹¤. ë°°ì—´ì— ì¡´ì¬í•˜ëŠ” ìš”ì†Œë“¤ì˜ ê°’ì´ ë°”ë€ ê²½ìš°, `map`ì´ ë°©ë¬¸í•˜ëŠ” ì‹œì ì˜ ê°’ì´ callbackì— ì „ë‹¬ëœë‹¤. mapì´ ì‹œì‘ë˜ê³ , ë°©ë¬¸í•˜ê¸° ì „ì— ì‚­ì œëœ ìš”ì†Œë“¤ì€ ë°©ë¬¸í•˜ì§€ ì•ŠëŠ”ë‹¤.
- `map`ì„ í˜¸ì¶œí•œ ë°°ì—´ì˜ ì¤‘ê°„ì´ ë¹„ì–´ìˆëŠ” ê²½ìš°, ê²°ê³¼ ë°°ì—´ ë˜í•œ ë™ì¼í•œ ì¸ë±ìŠ¤ë¥¼ ë¹ˆ ê°’ìœ¼ë¡œ ìœ ì§€í•œë‹¤.

### ì‹ ê¸°í•œ use case

#### 1. `String`ì—ì„œ map ì‚¬ìš©í•˜ê¸°

mapì€ arrayì˜ ë©”ì†Œë“œì´ê¸° ë•Œë¬¸ì— Stringì— mapí•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ `not a function`ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤. ê·¸ëŸ°ë° ì•„ë˜ì™€ ê°™ì€ ë°©ë²•ì„ ì‚¬ìš©í•˜ë©´ ê°€ëŠ¥í•˜ë‹¤.

```js
var map = Array.prototype.map
var a = map.call('Hello Abel', v => v.charCodeAt(0))
// [72, 101, 108, 108, 111, 32, 65, 98, 101, 108]
```

1. Array.prototypeì˜ map í•¨ìˆ˜ë¥¼ mapì´ë¼ëŠ” ë³€ìˆ˜ì— í• ë‹¹í•œë‹¤.
2. mapì„ call í•¨ìˆ˜ë¥¼ í†µí•´ì„œ ì‹¤í–‰ì‹œí‚¬ë•Œ ì²«ë²ˆì§¸ ì¸ìë¡œ thisë¡œ ì‚¬ìš©í•  Stringì„ ë„£ê³ , ë‘ë²ˆì§¸ ì¸ìë¡œëŠ” callbackí•¨ìˆ˜ë¥¼ ë„˜ê¸´ë‹¤.
3. Stringì€ ArrayLike(ìœ ì‚¬ë°°ì—´)ì´ê¸° ë•Œë¬¸ì— mapí•¨ìˆ˜ê°€ ëŒì•„ê°„ë‹¤! ğŸ˜
   > ê·¼ë° ì´ì œ ìš°ë¦¬ì—ê²ŒëŠ” `...`(spread operator)ê°€ ìˆê¸° ë•Œë¬¸ì—
   >
   > ```
   > [...ArrayLike].map(v => v)
   > ```
   >
   > ì´ë ‡ê²Œ í•˜ëŠ”ê²Œ ê°„ê²°í• ê±° ê°™ë‹¤... ã…ã…

#### 2. mapì˜ ì½œë°±í•¨ìˆ˜ê°€ ë‘ê°œ ì´ìƒì˜ ì¸ìë¥¼ ë°›ëŠ” ê²½ìš°

```
['1', '2', '3'].map(parseInt)
// [1, NaN, NaN]
```

ê¸°ëŒ€í•˜ëŠ” ê°’ì€ `[1,2,3]`ì´ì˜€ëŠ”ë°, ì›ì¹˜ ì•ŠëŠ” ê²°ê³¼ê°€ ë‚˜ì™”ë‹¤.
parseIntëŠ” ë‘ê°œì˜ ì¸ì(value, ì§„ë²•)ë¥¼ ë°›ì„ ìˆ˜ ìˆê³ , mapì€ ì½œë°±í•¨ìˆ˜ì—ê²Œ ì„¸ê°œì˜ ì¸ì(value, index, array)ë¥¼ ë„˜ê¸´ë‹¤. ì•”ë¬µì ìœ¼ë¡œ mapì´ ë‘ë²ˆì§¸ ì¸ìë¡œ indexë¡œ ë„˜ê¸°ê³ , parseIntê°€ ê·¸ indexë¥¼ ì§„ë²•ìœ¼ë¡œ ì¸ì‹í•´ì„œ ì›ì¹˜ì•ŠëŠ” ì˜¤ë¥˜ê°€ ë‚œ ê²ƒì´ë‹¤.

```
['1', '2', '3'].map(str => parseInt(str))
// [1, 2, 3]
```

ìœ„ì™€ ê°™ì´ í•˜ë‚˜ë§Œ ë„˜ê²¨ì£¼ë©´ ê¹”ë”!

## reduce

`reduce()` ë©”ì„œë“œëŠ” ë°°ì—´ì˜ ê° ìš”ì†Œì— ëŒ€í•´ ì£¼ì–´ì§„ reducer í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ê³ , í•˜ë‚˜ì˜ ê²°ê³¼ê°’ì„ ë°˜í™˜í•œë‹¤.

```js
const reduer = (acc, cur, i, arr) => return `result_value`
arr.reduce(reducer, initialValue);
```

#### reduceëŠ” reducer í•¨ìˆ˜ì™€ initialValueë¥¼ ì¸ìë¡œ ë°›ëŠ”ë‹¤.

1. reducerëŠ” ë„¤ ê°œì˜ ì¸ìë¥¼ ê°€ì§„ë‹¤.

```
1. ëˆ„ì‚°ê¸°(accumulator) - ì½œë°±ì˜ ë°˜í™˜ê°’ì´ ëˆ„ì ëœë‹¤.
2. í˜„ì¬ ê°’
3. í˜„ì¬ ì¸ë±ìŠ¤ - `initialValue`ë¥¼ ì œê³µí•œ ê²½ìš° 0, ì•„ë‹ˆë©´ 1ë¶€í„° ì‹œì‘í•œë‹¤.
4. ì›ë³¸ ë°°ì—´
```

=> ë¦¬ë“€ì„œ í•¨ìˆ˜ì˜ ë°˜í™˜ ê°’ì€ ëˆ„ì‚°ê¸°(acc)ì— í• ë‹¹ë˜ê³ , ëˆ„ì‚°ê¸°ëŠ” ìˆœíšŒ ì¤‘ **ìœ ì§€**ë˜ë¯€ë¡œ ìµœì¢… ê²°ê³¼ëŠ” <u>**í•˜ë‚˜ì˜ ê°’**</u>ì´ ëœë‹¤.

2. initialValue

- accì— ì´ˆê¸°ê°’ì„ ì œê³µí•œë‹¤. ì´ˆê¸°ê°’ì´ ì—†ìœ¼ë©´ ë°°ì—´ì˜ ì²«ë²ˆì§¸ ìš”ì†Œë¥¼ ì‚¬ìš©í•œë‹¤.
- ë¹ˆ ë°°ì—´ì—ì„œ ì´ˆê¸°ê°’ ì—†ì´ `reduce()`ë¥¼ í˜¸ì¶œí•˜ë©´ ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤. ì´ˆê¸°ê°’ì„ ì£¼ëŠ”ê²Œ ì•ˆì „í•˜ë‹¤.

### reduce í™œìš©

#### ì¤‘ì²© ë°°ì—´ í¼ì¹˜ê¸°(flatten)

```js
const flattended = [[0, 1], [2, 3], [4, 5]].reduce(
  (acc, cur) => acc.concat(cur),
  []
)
```

> [concat()](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Array/concat) : ì¸ìë¡œ ì£¼ì–´ì§„ ë°°ì—´ì´ë‚˜ ê°’ë“¤ì„ ê¸°ì¡´ ë°°ì—´ì— í•©ì³ì„œ ìƒˆ ë°°ì—´ì„ ë°˜í™˜í•©ë‹ˆë‹¤.

#### ë°°ì—´ì˜ ì¤‘ë³µ í•­ëª© ì œê±°í•˜ê¸°

```js
let arr = [1, 2, 1, 2, 3, 5, 4, 5, 3, 4, 4, 4, 4]

arr.sort().reduce((acc, cur) => {
  const length = acc.length
  if (length === 0 || acc[length - 1] !== cur) {
    acc.push(cur)
  }
  return acc
}, [])
// [1, 2, 3, 4, 5]
```

> - ì¢‹ì€ ì¤‘ë³µì œê±° ë°©ë²•ì¸ê°€....? ì˜ˆì™¸ ì²˜ë¦¬í• ê²Œ ë„ˆë¬´ ë§ë‹¤... í•˜ì§€ë§Œ reduceë¡œëŠ” ê±°ì˜ ìƒìƒí•œ ëª¨ë“ ê²ƒì„ í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ ëŠë‚€ë‹¤.
> - ì´ˆê°„ë‹¨í•œ ë°°ì—´ì˜ ì¤‘ë³µ ì œê±° ë°©ë²•! : `[...new Set(arr)]`

#### í•¨ìˆ˜ êµ¬ì„±ì„ ìœ„í•œ íŒŒì´í”„ í•¨ìˆ˜

```js
const double = x => x + x
const triple = x => 3 * x

const pipe = (...functions) => input =>
  functions.reduce((acc, fn) => fn(acc), input)

const multiply6 = pipe(
  double,
  triple
)
multiply6(6) // 36
```

=> reduceë¥¼ í†µí•´ pipe í•¨ìˆ˜ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤!

ì¶œì²˜:

- https://github.com/livelikeabel/AbelKo
- https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Array/map
- https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce
- https://www.youtube.com/watch?v=_JGchAMbPGI&list=PLBNdLLaRx_rKT18ivygZ7Jmi_4h5zb2wv
